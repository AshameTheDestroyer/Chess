@use "../../index.scss";

#home-page {
    --padding: 5rem;

    padding: var(--padding);

    &>section {
        min-height: inherit;

        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: repeat(2, 1fr);
        gap: 2rem;

        &>div {
            display: flex;
            flex-direction: column;
            place-content: start center;
            place-items: start center;
            gap: 2rem;
        }

        #piece-image-displayer {
            position: relative;
            min-height: calc(100dvh - var(--header-height) - var(--padding) * 2);
            min-height: calc(100vh - var(--header-height) - var(--padding) * 2);

            grid-row: 1;

            overflow: hidden;

            &>figure>svg {
                $size: calc(min(27.5rem, 54vw) - var(--padding) * 2);

                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(0);

                width: $size;
                height: $size;

                opacity: 0;

                @include index.drop-shadow($colour: var(--board-colour), $blurriness: 0.1rem, $thickness: 0.3rem);

                @for $i from 1 through 4 {

                    &:nth-child(#{$i}) {
                        animation-name: piece-image-entrance-#{$i};
                        animation-duration: 500ms;
                        animation-delay: calc(100ms * $i);
                        animation-iteration-count: 1;
                        animation-fill-mode: forwards;
                        animation-direction: normal;
                        animation-timing-function: var(--best-bezier-curve);

                        @keyframes piece-image-entrance-#{$i} {

                            from {
                                transform: translate(-50%, -50%) scale(0.5);

                                opacity: 0;
                            }

                            to {
                                transform: translate(calc(-50% + 50% * ($i - 2.5)), -75%) rotate(calc(10deg * ($i - 2))) scale(calc(1 + 1 * $i / 10));

                                opacity: 1;
                            }
                        }
                    }
                }
            }

            &>.custom-button-displayer {
                position: absolute;
                bottom: var(--padding);

                width: 100%;
            }
        }
    }
}

@media (min-width: index.$first-screen-width) {

    #home-page {

        &>section {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: 1fr;

            #piece-image-displayer {
                min-height: auto;

                grid-row: auto;
            }
        }
    }
}